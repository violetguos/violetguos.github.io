{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/lost-dotfile/","result":{"data":{"avatar":null,"site":{"siteMetadata":{"title":"Violet Guo","siteUrl":"https://violetguos.github.io","author":{"name":"Violet Guo","info":"machine learning, swe"}}},"markdownRemark":{"id":"27cf3db6-8cc0-5399-a84a-230be357373a","excerpt":"I accidentally nuked all of my dotfiles. Let me explain. I finally decided to back up my dotfiles properly. I found a seemingly straightforward Bash script thatâ€¦","html":"<h2>I accidentally nuked all of my dotfiles.</h2>\n<blockquote class=\"twitter-tweet\"><p lang=\"en\" dir=\"ltr\">I decided to organize my dot files. I ran some randoâ€™s script on Stackoverflow and it ended up overwriting my filesâ€¦. The symlink was buggy ðŸ™ƒðŸ“‰</p>&mdash; Violet Guo (@YVioletGuo) <a href=\"https://twitter.com/YVioletGuo/status/1466527787339104264?ref_src=twsrc%5Etfw\">December 2, 2021</a></blockquote> <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"></script>\n<p>Let me explain. I finally decided to back up my dotfiles properly. I found a seemingly straightforward Bash script that</p>\n<ol>\n<li>moves your current dotfiles from your root directory to a designated directory, aka your dotfile repo. Now this repo will become the source of truth. It is also tracked by Git.</li>\n<li>creates symlink at your root directory, which links to your dotfile repo.</li>\n</ol>\n<p>What could possibly go wrong? This random script I found wasnâ€™t <em>idempotent</em>. It failed but did not stop processing the rest of my files in the background. When I tried to run it again, it overwrote the links that were already linked with the link itself, and the originl dotfiles were lost.</p>\n<p>Thankfully, I did stash my dotfiles somewhere. I proceeded with caution and thereâ€™re so many ways to go about dotfile mgmt.</p>\n<ol>\n<li>write your own shell script. I donâ€™t trust myself at this pointâ€¦</li>\n<li>use a git <a href=\"https://www.ackama.com/what-we-think/the-best-way-to-store-your-dotfiles-a-bare-git-repository-explained/\">bare</a> repo. TBH I really didnâ€™t understand the whole rationale behind it.</li>\n<li>install someoneâ€™s pkg via a pkg mgmer. but what if the author abandons the project?</li>\n<li>finally, I found the dotbot</li>\n</ol>\n<h2>Dotbot</h2>\n<ul>\n<li>it lives with your dotfile repo as a submodule. worst case scenario, the authoer abandons the project, and you just keep one working copy of it</li>\n<li>itâ€™s deisgned to be idempotent. I value this design especially after my dotfile disaster.</li>\n<li>if you want a more detailed tutorial, try <a href=\"https://github.com/anishathalye/dotbot\">the official guide</a> or <a href=\"https://www.elliotdenolf.com/posts/bootstrap-your-dotfiles-with-dotbot\">this blog post</a></li>\n</ul>\n<p>I finally have a pretty basic dotfile setup. Itâ€™s been years and I canâ€™t believe <a href=\"https://missing.csail.mit.edu/2020/command-line/\">no one taught this in university</a>.</p>\n<h2>Speedround</h2>\n<p>Taken from one of the dotfile <a href=\"https://github.com/webpro/dotfiles/tree/master/config/thefuck\">repos</a> I found.</p>\n<!-- ![the frustration is real]() -->\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 686px; \">\n      <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 13.46938775510204%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAApklEQVQI14WOTQuCQBiE/f8/JugW0aEsKyIKuxhEFkY3+9rXXVtX98k6dOnQwDA8AwMTmKfFVo668bi6oXL1h12b/+S9/+mCZHdgf8yYzBaE0Zz0eOJyV5TWMkw03ZXQWQph8iA9X1lnltFWs8kMcRzT6w+IpjPCccQ+PRBIYVCFJr/cyK83HlIg2rQvK1TZfH3XDl1aiqdv3ZCrCmParRJE5JNvfgFywOMRXXVU4QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"frustration\" title=\"frustration\" src=\"/static/2d19aa80d31b864337edb2040754e9d8/f6386/frustration.png\" srcset=\"/static/2d19aa80d31b864337edb2040754e9d8/86a2e/frustration.png 245w,\n/static/2d19aa80d31b864337edb2040754e9d8/41d3c/frustration.png 490w,\n/static/2d19aa80d31b864337edb2040754e9d8/f6386/frustration.png 686w\" sizes=\"(max-width: 686px) 100vw, 686px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n    </span>\nThe frustration is real. End.\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>","frontmatter":{"title":"Dotfiles to Notfiles","category":["tech"],"date":"24 January 2022","coverImage":{"publicURL":"/static/d689551952d8a64caee69909d1a4d386/cover.png","childImageSharp":{"sizes":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAkklEQVQY062PbQoDIQxE9/4H7BGKa/yqW11ajdNxodDSXwsNjEQJ78VljIF/ZplHSgkxRohzEHHw3vPtBtmeuKYH4lZRa8W9VLTWfiCqzBvYu8KKwKyWoICcM5zz8CEgMKu1lMjRB0qneM5bK5ynPBdczA6TKoZ2AlVp32kvh33W2W9+bagEtt7RmdmfBX7WvL8AHCCHj5u+2igAAAAASUVORK5CYII=","aspectRatio":3.769230769230769,"src":"/static/d689551952d8a64caee69909d1a4d386/c5cc7/cover.png","srcSet":"/static/d689551952d8a64caee69909d1a4d386/316fe/cover.png 245w,\n/static/d689551952d8a64caee69909d1a4d386/6a537/cover.png 490w,\n/static/d689551952d8a64caee69909d1a4d386/c5cc7/cover.png 980w,\n/static/d689551952d8a64caee69909d1a4d386/6d756/cover.png 1360w","sizes":"(max-width: 980px) 100vw, 980px"}}}},"fields":{"slug":"/lost-dotfile/","readingTime":{"text":"2 min read"}}},"previous":{"fields":{"slug":"/recipe-norm/"},"frontmatter":{"title":"Recipe Normalization"}},"next":{"fields":{"slug":"/books-2021/"},"frontmatter":{"title":"The Books I've Read in 2021"}},"webmention":{"nodes":[]}},"pageContext":{"slug":"/lost-dotfile/","previousPostId":"3b8a0b34-dae7-5ea1-9e3b-25e088634f19","nextPostId":"0b058e0e-dd2f-5bc5-b928-93f41a4bb59f","permalink":"https://violetguos.github.ioblog/lost-dotfile/"}},"staticQueryHashes":["2652830850","2841359383","287504094","3255793931"]}